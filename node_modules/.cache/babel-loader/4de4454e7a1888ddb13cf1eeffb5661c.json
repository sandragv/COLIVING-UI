{"ast":null,"code":"import _slicedToArray from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserColivingsRating.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst RatingColiving = () => {\n  const user = useSelector(s => s.user);\n  const token = useSelector(s => s.user && s.user.token);\n  const coliving = useSelector(s => s.coliving);\n\n  const _useState = useState('colivingScore'),\n        _useState2 = _slicedToArray(_useState, 2),\n        colivingScore = _useState2[0],\n        setColivingScore = _useState2[1];\n\n  const handleColivingScore = e => setColivingScore(e.target.value);\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isError = _useState4[0],\n        setError = _useState4[1];\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const rating = {\n      colivingScore,\n      coliving,\n      user\n    };\n    setError(false);\n\n    try {\n      const ret = await fetch('http://localhost:3300/user/rating-coliving', {\n        method: 'POST',\n        body: JSON.stringify(rating),\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const data = await ret.json();\n      if (ret.ok) setColivingScore(data);\n    } catch (err) {\n      console.warn('Error:', err);\n      setError(true);\n    }\n  };\n\n  return React.createElement(\"form\", {\n    id: \"coliving-rating\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Punt\\xFAa tu estancia\"), React.createElement(\"div\", {\n    className: \"scorer-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Puntuaci\\xF3n:\", React.createElement(\"select\", {\n    className: \"score\",\n    name: \"colivingscore\",\n    value: colivingScore,\n    size: \"1\",\n    onChange: handleColivingScore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"one\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"1 estrella\"), React.createElement(\"option\", {\n    value: \"two\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"2 estrellas\"), React.createElement(\"option\", {\n    value: \"three\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"3 estrellas\"), React.createElement(\"option\", {\n    value: \"four\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"4 estrellas\"), React.createElement(\"option\", {\n    value: \"five\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"5 estrellas\")))), React.createElement(\"button\", {\n    className: \"save-score\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Enviar\"), isError && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Error, int\\xE9ntalo de nuevo\"));\n};\n\nexport default RatingColiving;","map":{"version":3,"sources":["/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserColivingsRating.js"],"names":["React","useState","useEffect","useSelector","RatingColiving","user","s","token","coliving","colivingScore","setColivingScore","handleColivingScore","e","target","value","isError","setError","handleSubmit","preventDefault","rating","ret","fetch","method","body","JSON","stringify","headers","data","json","ok","err","console","warn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst RatingColiving = () => {\n    const user = useSelector(s => s.user)\n    const token = useSelector(s => s.user && s.user.token)\n    const coliving = useSelector(s => s.coliving)\n    const [colivingScore, setColivingScore] = useState('colivingScore')\n    const handleColivingScore = e => setColivingScore(e.target.value)\n\n    const [isError, setError] = useState(false)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        const rating = { colivingScore, coliving, user }\n        setError(false)\n        try {\n            const ret = await fetch('http://localhost:3300/user/rating-coliving', {\n                method: 'POST',\n                body: JSON.stringify(rating),\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + token\n                }\n            })\n            const data = await ret.json()\n            if (ret.ok)\n                setColivingScore(data)\n        } catch (err) {\n            console.warn('Error:', err)\n            setError(true)\n        }\n    }\n\n\n    return (\n        <form id=\"coliving-rating\" onSubmit={handleSubmit}>\n            <h2>Puntúa tu estancia</h2>\n            <div className=\"scorer-elements\">\n                <label>\n                    Puntuación:\n                    <select className=\"score\" name=\"colivingscore\" value={colivingScore} size=\"1\" onChange={handleColivingScore} >\n                        <option value=\"one\">1 estrella</option>\n                        <option value=\"two\">2 estrellas</option>\n                        <option value=\"three\">3 estrellas</option>\n                        <option value=\"four\">4 estrellas</option>\n                        <option value=\"five\">5 estrellas</option>\n                    </select>\n                </label>\n            </div>\n            <button className=\"save-score\">Enviar</button>\n            {isError && <div>Error, inténtalo de nuevo</div>}\n        </form>\n    )\n}\n\nexport default RatingColiving\n\n\n"]},"metadata":{},"sourceType":"module"}