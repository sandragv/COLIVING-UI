{"ast":null,"code":"import _objectSpread from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js\";\nimport React, { useState, useEffect } from 'react';\n\nconst UserEditProfile = () => {\n  const dispatch = useDispatch();\n  const user = useSelector(s => s.user);\n  const token = useSelector(s => s.user && s.user.token);\n  if (!user) return 'Loading...';\n\n  const handler = field => e => setUser(_objectSpread({}, user, {\n    [field]: e.target.value\n  }));\n\n  const handleSave = e => {\n    e.preventDefault();\n    fetch('http://localhost:3300/user/profile/edit', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      alert('Guardado correctamente!');\n      dispatch({\n        type: 'user',\n        user: data\n      });\n    }).catch(() => alert('Error guardando...'));\n  };\n\n  return React.createElement(\"form\", {\n    class: \"edit-profile\",\n    onSubmit: handleSave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Editar perfil\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Nombre:\", React.createElement(\"input\", {\n    value: user.name,\n    onChange: handleField('name'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Apellido:\", React.createElement(\"input\", {\n    value: user.surname,\n    onChange: handleField('surname'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Email:\", React.createElement(\"input\", {\n    value: user.email,\n    onChange: handleField('email'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Profesi\\xF3n:\", React.createElement(\"input\", {\n    value: user.profession,\n    onChange: handleField('profession'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Pa\\xEDs:\", React.createElement(\"input\", {\n    value: user.country,\n    onChange: handleField('profession'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Guardar\"));\n};\n\nexport default UserEditProfile;","map":{"version":3,"sources":["/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js"],"names":["React","useState","useEffect","UserEditProfile","dispatch","useDispatch","user","useSelector","s","token","handler","field","e","setUser","target","value","handleSave","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","alert","type","catch","name","handleField","surname","email","profession","country"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nconst UserEditProfile = () => {\n    const dispatch = useDispatch()\n    const user = useSelector(s => s.user)\n    const token = useSelector(s => s.user && s.user.token)\n\n    if (!user) return 'Loading...'\n\n    const handler = field => e => setUser({ ...user, [field]: e.target.value })\n\n    const handleSave = e => {\n        e.preventDefault()\n        fetch('http://localhost:3300/user/profile/edit', {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n            },\n            body: JSON.stringify(user)\n        })\n            .then(res => res.json())\n            .then(data => {\n                alert('Guardado correctamente!')\n                dispatch({ type: 'user', user: data })\n            })\n            .catch(() => alert('Error guardando...'))\n\n    }\n\n    return (\n        <form class=\"edit-profile\" onSubmit={handleSave}>\n            <h2>Editar perfil</h2>\n            <div>\n                <label>\n                    Nombre:\n                <input value={user.name} onChange={handleField('name')} />\n                </label>\n            </div>\n            <div>\n                <label>\n                    Apellido:\n                <input value={user.surname} onChange={handleField('surname')} />\n                </label>\n            </div>\n            <div>\n                <label>\n                    Email:\n                <input value={user.email} onChange={handleField('email')} />\n                </label>\n            </div>\n            <div>\n                <label>\n                    Profesión:\n                <input value={user.profession} onChange={handleField('profession')} />\n                </label>\n            </div>\n            <div>\n                <label>\n                    País:\n                <input value={user.country} onChange={handleField('profession')} />\n                </label>\n            </div>\n            <button>Guardar</button>\n        </form>\n    )\n}\n\nexport default UserEditProfile\n"]},"metadata":{},"sourceType":"module"}