{"ast":null,"code":"import _objectSpread from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js\";\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst UserEditProfile = () => {\n  const dispatch = useDispatch();\n\n  const editprofile = user => dispatch({\n    type: 'editprofile',\n    user\n  });\n\n  const token = useSelector(s => s.user && s.user.token);\n  const currentuser = useSelector(s => s.user);\n\n  const _useState = useState(currentuser),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  if (!user) return 'Loading...';\n\n  const handleField = field => e => setUser(_objectSpread({}, user, {\n    [field]: e.target.value\n  }));\n\n  const handleSave = e => {\n    e.preventDefault();\n    fetch('http://localhost:3300/user/profile/edit', {\n      method: 'PUT',\n      headers: {\n        'Authorization': 'Bearer ' + token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      alert('Guardado correctamente!');\n      dispatch({\n        type: 'editprofile',\n        user: data\n      });\n    }).catch(e => console.warn('Error'));\n  };\n\n  return React.createElement(\"form\", {\n    className: \"edit-profile\",\n    onSubmit: handleSave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Editar perfil\"), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"profile-item\",\n    type: \"hidden\",\n    name: \"id\",\n    value: user.id || '',\n    onChange: handleField('id'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Nombre:\", React.createElement(\"input\", {\n    className: \"profile-item\",\n    name: \"name\",\n    value: user.name || '',\n    onChange: handleField('name'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Apellido:\", React.createElement(\"input\", {\n    className: \"profile-item\",\n    name: \"surname\",\n    value: user.surname || '',\n    onChange: handleField('surname'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Email:\", React.createElement(\"input\", {\n    className: \"profile-item\",\n    name: \"email\",\n    value: user.email || '',\n    onChange: handleField('email'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Profesi\\xF3n:\", React.createElement(\"input\", {\n    className: \"profile-item\",\n    name: \"profession\",\n    value: user.profession || '',\n    onChange: handleField('profession'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"profile-elements\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Pa\\xEDs:\", React.createElement(\"input\", {\n    className: \"profile-item\",\n    name: \"country\",\n    value: user.country || '',\n    onChange: handleField('country'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Guardar\"));\n};\n\nexport default UserEditProfile;","map":{"version":3,"sources":["/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js"],"names":["React","useState","useSelector","useDispatch","UserEditProfile","dispatch","editprofile","user","type","token","s","currentuser","setUser","handleField","field","e","target","value","handleSave","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","alert","catch","console","warn","id","name","surname","email","profession","country"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst UserEditProfile = () => {\n    const dispatch = useDispatch()\n    const editprofile = (user) => dispatch ({ type: 'editprofile', user })\n    const token = useSelector(s => s.user && s.user.token)\n    const currentuser = useSelector(s => s.user)\n    const [ user, setUser ] = useState(currentuser)\n\n    if (!user) return 'Loading...'\n\n    const handleField = field => e => setUser({ ...user, [field]: e.target.value })\n\n    const handleSave = e => {\n        e.preventDefault()\n        fetch('http://localhost:3300/user/profile/edit', {\n            method: 'PUT',\n            headers: {\n                'Authorization': 'Bearer ' + token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n            .then(res => res.json())\n            .then(data => {\n                alert('Guardado correctamente!')\n                dispatch({ type: 'editprofile', user: data })\n            })\n            .catch((e) => console.warn('Error'))\n\n    }\n\n    return (\n        <form className=\"edit-profile\" onSubmit={handleSave}>\n            <h2>Editar perfil</h2>\n            <div className=\"profile-elements\">             \n                 <input className=\"profile-item\" type=\"hidden\" name=\"id\" value={user.id || ''} onChange={handleField('id')} />            \n            </div>\n            <div className=\"profile-elements\">            \n                <label>\n                    Nombre:\n                <input className=\"profile-item\" name=\"name\" value={user.name || ''} onChange={handleField('name')} />\n                </label>\n            </div>\n            <div className=\"profile-elements\">\n                <label>\n                    Apellido:\n                <input className=\"profile-item\" name=\"surname\" value={user.surname || ''} onChange={handleField('surname')} />\n                </label>\n            </div>\n            <div className=\"profile-elements\">\n                <label>\n                    Email:\n                <input className=\"profile-item\" name=\"email\" value={user.email || ''} onChange={handleField('email')} />\n                </label>\n            </div>\n            <div className=\"profile-elements\">\n                <label>\n                    Profesión:\n                <input className=\"profile-item\" name=\"profession\" value={user.profession || ''} onChange={handleField('profession')} />\n                </label>\n            </div>\n            <div className=\"profile-elements\">\n                <label>\n                    País:\n                <input className=\"profile-item\" name=\"country\" value={user.country || ''} onChange={handleField('country')} />\n                </label>\n            </div>\n            <button>Guardar</button>\n        </form>\n    )\n}\n\nexport default UserEditProfile\n"]},"metadata":{},"sourceType":"module"}