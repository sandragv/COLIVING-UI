{"ast":null,"code":"import _slicedToArray from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst EditProfile = () => {\n  const _useParams = useParams(),\n        id = _useParams.id;\n\n  const dispatch = useDispatch();\n  const user = useSelector(s => s.user);\n\n  const handler = field => e => setUser(_objectSpread({}, user, {\n    [field]: e.target.value\n  }));\n\n  useEffect(() => {\n    fetch('http://localhost:3300/users/' + id).then(r => r.json()).then(data => setUser(data));\n  }, [id]);\n  const history = useHistory();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isError = _useState2[0],\n        setError = _useState2[1];\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(false);\n\n    try {\n      const ret = await fetch('http://localhost:3300/users/' + id, {\n        method: 'PUT',\n        body: JSON.stringify(user),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      await ret.json();\n      history.push(`/users/${id}`);\n    } catch (err) {\n      console.warn('Error:', err);\n      setError(true);\n    }\n  };\n\n  if (!user) return 'Loading...';\n  return React.createElement(\"form\", {\n    id: \"signup\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Nombre:\", React.createElement(\"input\", {\n    name: \"name\",\n    required: true,\n    value: user.name,\n    onChange: handler('name'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Apellido:\", React.createElement(\"input\", {\n    name: \"surname\",\n    required: true,\n    value: user.surname,\n    onChange: handler('surname'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Email:\", React.createElement(\"input\", {\n    name: \"email\",\n    required: true,\n    value: user.email,\n    onChange: handler('email'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Profesi\\xF3n:\", React.createElement(\"input\", {\n    name: \"profession\",\n    required: true,\n    value: user.profession,\n    onChange: handler('profession'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Pa\\xEDs:\", React.createElement(\"textarea\", {\n    name: \"country\",\n    required: true,\n    value: user.country,\n    onChange: handler('country'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Guardar\"), isError && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Error, please try again\"));\n};\n\nexport default EditProfile;","map":{"version":3,"sources":["/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/PrivateGuest/UserEditProfile.js"],"names":["React","useState","useEffect","useHistory","useParams","useSelector","useDispatch","EditProfile","id","dispatch","user","s","handler","field","e","setUser","target","value","fetch","then","r","json","data","history","isError","setError","handleSubmit","preventDefault","ret","method","body","JSON","stringify","headers","push","err","console","warn","name","surname","email","profession","country"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst EditProfile = () => {\n    const { id } = useParams()\n    const dispatch = useDispatch()\n    const user = useSelector(s => s.user)\n    const handler = field => e => setUser({ ...user, [field]: e.target.value })\n    useEffect(() => {\n        fetch('http://localhost:3300/users/' + id)\n            .then(r => r.json())\n            .then(data => setUser(data))\n    }, [id])\n\n    const history = useHistory()\n    const [isError, setError] = useState(false)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        setError(false)\n        try {\n            const ret = await fetch('http://localhost:3300/users/' + id, {\n                method: 'PUT',\n                body: JSON.stringify(user),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            await ret.json()\n            history.push(`/users/${id}`)\n        } catch (err) {\n            console.warn('Error:', err)\n            setError(true)\n        }\n    }\n\n    if (!user) return 'Loading...'\n\n    return (\n        <form id=\"signup\" onSubmit={handleSubmit}>\n            <label>\n                Nombre:\n                <input name=\"name\" required value={user.name} onChange={handler('name')} />\n            </label>\n            <label>\n                Apellido:\n                <input name=\"surname\" required value={user.surname} onChange={handler('surname')} />\n            </label>\n            <label>\n                Email:\n                <input name=\"email\" required value={user.email} onChange={handler('email')} />\n            </label>\n            <label>\n                Profesión:\n                <input name=\"profession\" required value={user.profession} onChange={handler('profession')} />\n            </label>\n            <label>\n                País:\n                <textarea name=\"country\" required value={user.country} onChange={handler('country')} />\n            </label>\n            <button>Guardar</button>\n            {isError && <div>Error, please try again</div>}\n        </form>\n    )\n}\n\nexport default EditProfile\n"]},"metadata":{},"sourceType":"module"}