{"ast":null,"code":"import _slicedToArray from \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/Apartment.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from 'react-redux';\n\nconst useFormField = valorInicial => {\n  const _useState = useState(valorInicial || ''),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n  const handleChange = e => setValue(e.target.value);\n\n  return [value, handleChange];\n};\n\nconst Apartment = ({\n  apartment\n}) => {\n  const user = useSelector(s => s.user);\n  const token = useSelector(s => s.user && s.user.token);\n\n  const _useFormField = useFormField(''),\n        _useFormField2 = _slicedToArray(_useFormField, 2),\n        EntryWeek = _useFormField2[0],\n        handleEntryWeek = _useFormField2[1];\n\n  const _useFormField3 = useFormField(''),\n        _useFormField4 = _slicedToArray(_useFormField3, 2),\n        DepartureWeek = _useFormField4[0],\n        handleDepartureWeek = _useFormField4[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        status = _useState4[0],\n        setStatus = _useState4[1];\n\n  const divStyle = {\n    backgroundImage: `url(${apartment.photo_room1})`,\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    width: \"34.37rem\",\n    height: \"20.78rem\",\n    opacity: 0.85\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const reservation = {\n      EntryWeek,\n      DepartureWeek\n    };\n    setStatus('loading...');\n    await fetch('http://localhost:3300/reservations', {\n      method: 'POST',\n      body: JSON.stringify(reservation),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      }\n    });\n    setStatus('ok!');\n  };\n\n  return React.createElement(\"div\", {\n    className: \"coliving-view\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Apartment \", `${apartment.id}`, \" \"), React.createElement(\"div\", {\n    className: \"colivingimg\",\n    style: divStyle,\n    alt: `${apartment.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"client-entry\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Entrada\"), React.createElement(\"input\", {\n    className: \"entry-booking\",\n    type: \"date\",\n    value: EntryWeek,\n    onChange: handleEntryWeek,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"client-departure\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Salida\"), React.createElement(\"input\", {\n    className: \"departure-booking\",\n    type: \"date\",\n    value: DepartureWeek,\n    onChange: handleDepartureWeek,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"make-reservation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Reservar\"), status));\n};\n\nexport default Apartment;","map":{"version":3,"sources":["/home/hab23/Documents/coliving/development/hab_gestion_coliving_ui/src/Apartment.js"],"names":["React","useEffect","useState","useSelector","useFormField","valorInicial","value","setValue","handleChange","e","target","Apartment","apartment","user","s","token","EntryWeek","handleEntryWeek","DepartureWeek","handleDepartureWeek","status","setStatus","divStyle","backgroundImage","photo_room1","backgroundPosition","backgroundSize","width","height","opacity","handleSubmit","preventDefault","reservation","fetch","method","body","JSON","stringify","headers","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { useSelector } from 'react-redux'\n\nconst useFormField = (valorInicial) => {\n    const [value, setValue] = useState(valorInicial || '')\n    const handleChange = e => setValue(e.target.value)\n    return [value, handleChange]\n};\n\nconst Apartment = ({apartment}) => {\n    const user = useSelector(s => s.user)\n    const token = useSelector(s => s.user && s.user.token)\n    const [EntryWeek, handleEntryWeek] = useFormField('');\n    const [DepartureWeek, handleDepartureWeek] = useFormField('');\n    const [status, setStatus] = useState();\n    const divStyle = {\n        backgroundImage: `url(${apartment.photo_room1})`,\n        backgroundPosition: \"center\",\n        backgroundSize: \"cover\",\n        width: \"34.37rem\",\n        height: \"20.78rem\",\n        opacity: 0.85\n      };\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        const reservation = { EntryWeek, DepartureWeek }\n        setStatus('loading...')\n        await fetch('http://localhost:3300/reservations', {\n            method: 'POST',\n            body: JSON.stringify(reservation),\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n            }\n        })\n        setStatus('ok!')\n    }\n\n\n    return (\n        <div className=\"coliving-view\">\n            <p>Apartment {`${apartment.id}`} </p>\n            <div className=\"colivingimg\" style={divStyle} alt={`${apartment.id}`}></div>\n\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label className=\"client-entry\">\n                        Entrada\n                    </label>\n                    <input className=\"entry-booking\" type=\"date\" value={EntryWeek} onChange={handleEntryWeek}/>\n                </div>\n                <div>\n                    <label className=\"client-departure\">\n                        Salida\n                    </label>\n                    <input className=\"departure-booking\" type=\"date\" value={DepartureWeek}\n                           onChange={handleDepartureWeek}/>\n                </div>\n                <button className=\"make-reservation\">Reservar</button>\n                {status}\n            </form>\n        </div>\n\n\n    )\n}\n\nexport default Apartment"]},"metadata":{},"sourceType":"module"}