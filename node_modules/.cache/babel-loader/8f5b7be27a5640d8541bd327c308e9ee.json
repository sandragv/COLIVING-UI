{"ast":null,"code":"import _objectSpread from \"/home/hab23/Documents/COOLIVING/COLIVING-UI/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/hab23/Documents/COOLIVING/COLIVING-UI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\n\nconst useFormHostLogin = (callback, validate) => {\n  const dispatch = useDispatch();\n\n  const login = user => dispatch({\n    type: 'login',\n    user\n  });\n\n  const _useState = useState({\n    name: \"\",\n    surname: \"\",\n    email: \"\",\n    password: \"\",\n    colivingName: \"\",\n    street: \"\",\n    zipcode: \"\",\n    city: \"\",\n    country: \"\",\n    poster: \"\",\n    apartments: \"\",\n    rooms: \"\",\n    roomType: \"\",\n    facilities: [],\n    website: \"\",\n    facebook: \"\",\n    instagram: \"\",\n    twitter: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errors = _useState4[0],\n        setErrors = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSubmitting = _useState6[0],\n        setIsSubmitting = _useState6[1];\n\n  const handleChange = event => {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    setValues(_objectSpread({}, values, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const coliving = values;\n    setErrors(validate(values));\n    setIsSubmitting(true);\n\n    try {\n      const ret = await fetch('http://localhost:3300/host/signup', {\n        method: 'POST',\n        body: JSON.stringify(coliving),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await ret.json();\n      if (ret.ok) login(data);\n    } catch (err) {\n      console.log('Error:', err);\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors, callback, isSubmitting]);\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\nexport default useFormHostLogin;","map":{"version":3,"sources":["/home/hab23/Documents/COOLIVING/COLIVING-UI/src/Authentication/useFormHostSignup.js"],"names":["useState","useEffect","useDispatch","useFormHostLogin","callback","validate","dispatch","login","user","type","name","surname","email","password","colivingName","street","zipcode","city","country","poster","apartments","rooms","roomType","facilities","website","facebook","instagram","twitter","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","event","target","value","handleSubmit","e","preventDefault","coliving","ret","fetch","method","body","JSON","stringify","headers","data","json","ok","err","console","log","Object","keys","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux'\n\nconst useFormHostLogin = (callback, validate) => {\n  const dispatch = useDispatch()\n  const login = (user) => dispatch({ type: 'login', user })\n\n  const [values, setValues] = useState({ name:\"\", surname:\"\", email:\"\", password:\"\", colivingName:\"\", street:\"\", zipcode:\"\", city:\"\", country:\"\", poster:\"\", apartments:\"\", rooms:\"\", roomType:\"\", facilities:[], website:\"\", facebook:\"\", instagram:\"\", twitter:\"\" });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = event => {\n    const { name, value } = event.target;\n    setValues({\n      ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const coliving = values\n    setErrors(validate(values));\n    setIsSubmitting(true);\n    try {\n      const ret = await fetch('http://localhost:3300/host/signup', {\n        method: 'POST',\n        body: JSON.stringify(coliving),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n      const data = await ret.json()\n      if (ret.ok)\n        login(data)\n    } catch (err) {\n      console.log('Error:', err)\n    }\n};\n\nuseEffect(() => {\n  if (Object.keys(errors).length === 0 && isSubmitting) {\n    callback();\n  }\n}, [errors, callback, isSubmitting]);\n\nreturn {\n  handleChange,\n  handleSubmit,\n  values,\n  errors\n};\n};\n\nexport default useFormHostLogin;"]},"metadata":{},"sourceType":"module"}